{"ast":null,"code":"'use strict';\n\nconst LRU = require('lru-cache');\nconst MEMOIZED = new LRU({\n  max: 500,\n  maxSize: 50 * 1024 * 1024,\n  // 50MB\n  ttl: 3 * 60 * 1000,\n  // 3 minutes\n  sizeCalculation: (entry, key) => key.startsWith('key:') ? entry.data.length : entry.length\n});\nmodule.exports.clearMemoized = clearMemoized;\nfunction clearMemoized() {\n  const old = {};\n  MEMOIZED.forEach((v, k) => {\n    old[k] = v;\n  });\n  MEMOIZED.clear();\n  return old;\n}\nmodule.exports.put = put;\nfunction put(cache, entry, data, opts) {\n  pickMem(opts).set(`key:${cache}:${entry.key}`, {\n    entry,\n    data\n  });\n  putDigest(cache, entry.integrity, data, opts);\n}\nmodule.exports.put.byDigest = putDigest;\nfunction putDigest(cache, integrity, data, opts) {\n  pickMem(opts).set(`digest:${cache}:${integrity}`, data);\n}\nmodule.exports.get = get;\nfunction get(cache, key, opts) {\n  return pickMem(opts).get(`key:${cache}:${key}`);\n}\nmodule.exports.get.byDigest = getDigest;\nfunction getDigest(cache, integrity, opts) {\n  return pickMem(opts).get(`digest:${cache}:${integrity}`);\n}\nclass ObjProxy {\n  constructor(obj) {\n    this.obj = obj;\n  }\n  get(key) {\n    return this.obj[key];\n  }\n  set(key, val) {\n    this.obj[key] = val;\n  }\n}\nfunction pickMem(opts) {\n  if (!opts || !opts.memoize) {\n    return MEMOIZED;\n  } else if (opts.memoize.get && opts.memoize.set) {\n    return opts.memoize;\n  } else if (typeof opts.memoize === 'object') {\n    return new ObjProxy(opts.memoize);\n  } else {\n    return MEMOIZED;\n  }\n}","map":{"version":3,"names":["LRU","require","MEMOIZED","max","maxSize","ttl","sizeCalculation","entry","key","startsWith","data","length","module","exports","clearMemoized","old","forEach","v","k","clear","put","cache","opts","pickMem","set","putDigest","integrity","byDigest","get","getDigest","ObjProxy","constructor","obj","val","memoize"],"sources":["C:/Users/shinz/OneDrive/Desktop/web/ecommerce/node_modules/make-fetch-happen/node_modules/cacache/lib/memoization.js"],"sourcesContent":["'use strict'\n\nconst LRU = require('lru-cache')\n\nconst MEMOIZED = new LRU({\n  max: 500,\n  maxSize: 50 * 1024 * 1024, // 50MB\n  ttl: 3 * 60 * 1000, // 3 minutes\n  sizeCalculation: (entry, key) => key.startsWith('key:') ? entry.data.length : entry.length,\n})\n\nmodule.exports.clearMemoized = clearMemoized\n\nfunction clearMemoized () {\n  const old = {}\n  MEMOIZED.forEach((v, k) => {\n    old[k] = v\n  })\n  MEMOIZED.clear()\n  return old\n}\n\nmodule.exports.put = put\n\nfunction put (cache, entry, data, opts) {\n  pickMem(opts).set(`key:${cache}:${entry.key}`, { entry, data })\n  putDigest(cache, entry.integrity, data, opts)\n}\n\nmodule.exports.put.byDigest = putDigest\n\nfunction putDigest (cache, integrity, data, opts) {\n  pickMem(opts).set(`digest:${cache}:${integrity}`, data)\n}\n\nmodule.exports.get = get\n\nfunction get (cache, key, opts) {\n  return pickMem(opts).get(`key:${cache}:${key}`)\n}\n\nmodule.exports.get.byDigest = getDigest\n\nfunction getDigest (cache, integrity, opts) {\n  return pickMem(opts).get(`digest:${cache}:${integrity}`)\n}\n\nclass ObjProxy {\n  constructor (obj) {\n    this.obj = obj\n  }\n\n  get (key) {\n    return this.obj[key]\n  }\n\n  set (key, val) {\n    this.obj[key] = val\n  }\n}\n\nfunction pickMem (opts) {\n  if (!opts || !opts.memoize) {\n    return MEMOIZED\n  } else if (opts.memoize.get && opts.memoize.set) {\n    return opts.memoize\n  } else if (typeof opts.memoize === 'object') {\n    return new ObjProxy(opts.memoize)\n  } else {\n    return MEMOIZED\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}