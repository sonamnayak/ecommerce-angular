{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { ProductsDataService } from 'src/app/services/products-data.service';\nlet ProductDetailComponent = class ProductDetailComponent {\n  constructor(productsDataService, activatedRoute, Cart) {\n    this.productsDataService = productsDataService;\n    this.activatedRoute = activatedRoute;\n    this.Cart = Cart;\n    this.value = 1;\n    this.currentSize = \"XS\";\n    this.currentColor = \"black\";\n    this.unique = true;\n  }\n  ngOnInit() {\n    this.productId = this.activatedRoute.snapshot.paramMap.get('id');\n    this.product = this.productsDataService.productsData.find(x => x.id == this.productId);\n  }\n  decreaseValue() {\n    if (this.value > 1) this.value--;\n  }\n  increaseValue() {\n    if (this.value < 10) this.value++;\n  }\n  getSize(size) {\n    this.currentSize = size.value;\n  }\n  getColor(color) {\n    this.currentColor = color.value.toLowerCase();\n  }\n  addToCart(product) {\n    for (let i = 1; i <= localStorage.length; i++) {\n      this.data = localStorage.getItem(i.toString());\n      if (this.data != null) {\n        this.parsedData = JSON.parse(this.data);\n        if (this.parsedData.id === product.id) {\n          this.unique = false;\n          break;\n        } else this.unique = true;\n      }\n    }\n    if (this.unique) localStorage.setItem(localStorage.length.toString(), JSON.stringify({\n      id: product.id,\n      img: product.img,\n      title: product.title,\n      price: product.price * this.value,\n      color: this.currentColor,\n      size: this.currentSize,\n      quantity: this.value\n    }));\n  }\n  addToWishlist(product) {\n    for (let i = 0; i < sessionStorage.length; i++) {\n      this.data = sessionStorage.getItem(i.toString());\n      this.parsedData = JSON.parse(this.data);\n      if (this.parsedData.id === product.id) {\n        this.unique = false;\n        break;\n      } else this.unique = true;\n    }\n    if (this.unique) sessionStorage.setItem(sessionStorage.length.toString(), JSON.stringify({\n      id: product.id,\n      img: product.img,\n      title: product.title,\n      price: product.price * this.value,\n      color: this.currentColor,\n      size: this.currentSize,\n      quantity: this.value\n    }));\n  }\n};\nProductDetailComponent = __decorate([Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detail.component.html',\n  styleUrls: ['./product-detail.component.css'],\n  providers: [ProductsDataService]\n})], ProductDetailComponent);\nexport { ProductDetailComponent };","map":{"version":3,"names":["Component","ProductsDataService","ProductDetailComponent","constructor","productsDataService","activatedRoute","Cart","value","currentSize","currentColor","unique","ngOnInit","productId","snapshot","paramMap","get","product","productsData","find","x","id","decreaseValue","increaseValue","getSize","size","getColor","color","toLowerCase","addToCart","i","localStorage","length","data","getItem","toString","parsedData","JSON","parse","setItem","stringify","img","title","price","quantity","addToWishlist","sessionStorage","__decorate","selector","templateUrl","styleUrls","providers"],"sources":["C:\\Users\\shinz\\OneDrive\\Desktop\\web\\ecommerce\\client\\src\\app\\home\\product-detail\\product-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ProductsDataService } from 'src/app/services/products-data.service';\n\n@Component({\n  selector: 'app-product-detail',\n  templateUrl: './product-detail.component.html',\n  styleUrls: ['./product-detail.component.css'],\n  providers: [ProductsDataService]\n})\nexport class ProductDetailComponent implements OnInit {\n  constructor(private productsDataService: ProductsDataService, private activatedRoute: ActivatedRoute, private Cart) { }\n  product!: { id: number, img: string, cat: string, title: string, price: number, desc: string, colors: Array<string>, sizes: Array<string>, bestseller: boolean } | undefined\n  productId: any\n  value: number = 1\n  currentProduct: any\n  currentSize: string = \"XS\"\n  currentColor: string = \"black\"\n  data!: any\n  parsedData!: any\n  unique: boolean = true\n  ngOnInit() {\n    this.productId = this.activatedRoute.snapshot.paramMap.get('id')\n    this.product = this.productsDataService.productsData.find(x => x.id == this.productId)\n  }\n\n  decreaseValue() {\n    if (this.value > 1) this.value--\n  }\n\n  increaseValue() {\n    if (this.value < 10) this.value++\n  }\n\n  getSize(size: HTMLSelectElement) {\n    this.currentSize = size.value\n  }\n  getColor(color: HTMLInputElement) {\n    this.currentColor = color.value.toLowerCase()\n  }\n\n  addToCart(product: any) {\n    for (let i = 1; i <= localStorage.length; i++) {\n      this.data = localStorage.getItem(i.toString())\n      if (this.data != null) {\n        this.parsedData = JSON.parse(this.data)\n        if (this.parsedData.id === product.id) {\n          this.unique = false\n          break\n        }\n        else this.unique = true\n      }\n    }\n    if (this.unique) localStorage.setItem((localStorage.length).toString(), JSON.stringify({ id: product.id, img: product.img, title: product.title, price: product.price * this.value, color: this.currentColor, size: this.currentSize, quantity: this.value }))\n  }\n\n  addToWishlist(product: any) {\n    for (let i = 0; i < sessionStorage.length; i++) {\n      this.data = sessionStorage.getItem(i.toString())\n      this.parsedData = JSON.parse(this.data)\n      if (this.parsedData.id === product.id) {\n        this.unique = false\n        break\n      }\n      else this.unique = true\n    }\n    if (this.unique) sessionStorage.setItem((sessionStorage.length).toString(), JSON.stringify({ id: product.id, img: product.img, title: product.title, price: product.price * this.value, color: this.currentColor, size: this.currentSize, quantity: this.value }))\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}