{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductsComponent = class ProductsComponent {\n  constructor(productsDataService, searchDataService, activatedRoute) {\n    this.productsDataService = productsDataService;\n    this.searchDataService = searchDataService;\n    this.activatedRoute = activatedRoute;\n    this.searchText = \"\";\n  }\n  ngOnInit() {\n    this.currentRoute = this.activatedRoute?.component?.name;\n    this.category = this.activatedRoute.snapshot.paramMap.get(\"cat\");\n    if (this.category) this.productsData = this.productsDataService.productsData.filter(x => x.cat === this.category);else {\n      this.productsData = this.productsDataService.productsData.filter(x => x.bestseller === true);\n      this.productsData.splice(8, this.productsData.length - 8);\n    }\n    this.searchDataService.searchDataEmitter.subscribe(data => this.searchText = data);\n  }\n  addToCart(product) {\n    localStorage.setItem(localStorage.length.toString(), JSON.stringify({\n      id: product.id,\n      img: product.img,\n      title: product.title,\n      price: product.price,\n      color: \"black\",\n      size: \"S\",\n      quantity: 1\n    }));\n  }\n  addToWishlist(product) {\n    sessionStorage.setItem(sessionStorage.length.toString(), JSON.stringify({\n      id: product.id,\n      img: product.img,\n      title: product.title,\n      price: product.price,\n      color: \"black\",\n      size: \"S\",\n      quantity: 1\n    }));\n  }\n};\nProductsComponent = __decorate([Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})], ProductsComponent);\nexport { ProductsComponent };","map":{"version":3,"names":["Component","ProductsComponent","constructor","productsDataService","searchDataService","activatedRoute","searchText","ngOnInit","currentRoute","component","name","category","snapshot","paramMap","get","productsData","filter","x","cat","bestseller","splice","length","searchDataEmitter","subscribe","data","addToCart","product","localStorage","setItem","toString","JSON","stringify","id","img","title","price","color","size","quantity","addToWishlist","sessionStorage","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\shinz\\OneDrive\\Desktop\\web\\ecommerce\\src\\app\\home\\products\\products.component.ts"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { ProductsDataService } from 'src/app/services/products-data.service';\nimport { SearchDataService } from 'src/app/services/search-data.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit{\n  constructor(private productsDataService: ProductsDataService, private searchDataService: SearchDataService, private activatedRoute: ActivatedRoute) {}\n  productsData!: Array<{id: number, img: string, cat: string, title: string, price: number, desc: string, colors: Array<string>, sizes: Array<string>}> \n  searchText: string = \"\"\n  category!: string | null\n  currentRoute!: string | undefined\n\n  ngOnInit(): void {\n    this.currentRoute = this.activatedRoute?.component?.name\n    this.category = this.activatedRoute.snapshot.paramMap.get(\"cat\")\n    if(this.category ) this.productsData = this.productsDataService.productsData.filter(x => x.cat === this.category)\n    else {\n      this.productsData = this.productsDataService.productsData.filter(x => x.bestseller === true)\n      this.productsData.splice(8, this.productsData.length- 8)\n    }\n    this.searchDataService.searchDataEmitter.subscribe((data:string) => this.searchText = data)\n  }\n\n  addToCart(product: any) {\n    localStorage.setItem((localStorage.length).toString(), JSON.stringify({id: product.id, img: product.img, title: product.title, price: product.price, color: \"black\", size: \"S\", quantity: 1}))\n  }\n\n  addToWishlist(product: any) {\n    sessionStorage.setItem((sessionStorage.length).toString(), JSON.stringify({id: product.id, img: product.img, title: product.title, price: product.price, color: \"black\", size: \"S\", quantity: 1}))\n  }\n}\n"],"mappings":";AAAA,SAASA,SAAS,QAAuB,eAAe;AAUxD,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAiB;EAC5BC,YAAoBC,mBAAwC,EAAUC,iBAAoC,EAAUC,cAA8B;IAA9H,KAAAF,mBAAmB,GAAnBA,mBAAmB;IAA+B,KAAAC,iBAAiB,GAAjBA,iBAAiB;IAA6B,KAAAC,cAAc,GAAdA,cAAc;IAElI,KAAAC,UAAU,GAAW,EAAE;EAF8H;EAMrJC,QAAQA,CAAA;IACN,IAAI,CAACC,YAAY,GAAG,IAAI,CAACH,cAAc,EAAEI,SAAS,EAAEC,IAAI;IACxD,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACN,cAAc,CAACO,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,KAAK,CAAC;IAChE,IAAG,IAAI,CAACH,QAAQ,EAAG,IAAI,CAACI,YAAY,GAAG,IAAI,CAACZ,mBAAmB,CAACY,YAAY,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,GAAG,KAAK,IAAI,CAACP,QAAQ,CAAC,MAC5G;MACH,IAAI,CAACI,YAAY,GAAG,IAAI,CAACZ,mBAAmB,CAACY,YAAY,CAACC,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACE,UAAU,KAAK,IAAI,CAAC;MAC5F,IAAI,CAACJ,YAAY,CAACK,MAAM,CAAC,CAAC,EAAE,IAAI,CAACL,YAAY,CAACM,MAAM,GAAE,CAAC,CAAC;;IAE1D,IAAI,CAACjB,iBAAiB,CAACkB,iBAAiB,CAACC,SAAS,CAAEC,IAAW,IAAK,IAAI,CAAClB,UAAU,GAAGkB,IAAI,CAAC;EAC7F;EAEAC,SAASA,CAACC,OAAY;IACpBC,YAAY,CAACC,OAAO,CAAED,YAAY,CAACN,MAAM,CAAEQ,QAAQ,EAAE,EAAEC,IAAI,CAACC,SAAS,CAAC;MAACC,EAAE,EAAEN,OAAO,CAACM,EAAE;MAAEC,GAAG,EAAEP,OAAO,CAACO,GAAG;MAAEC,KAAK,EAAER,OAAO,CAACQ,KAAK;MAAEC,KAAK,EAAET,OAAO,CAACS,KAAK;MAAEC,KAAK,EAAE,OAAO;MAAEC,IAAI,EAAE,GAAG;MAAEC,QAAQ,EAAE;IAAC,CAAC,CAAC,CAAC;EAChM;EAEAC,aAAaA,CAACb,OAAY;IACxBc,cAAc,CAACZ,OAAO,CAAEY,cAAc,CAACnB,MAAM,CAAEQ,QAAQ,EAAE,EAAEC,IAAI,CAACC,SAAS,CAAC;MAACC,EAAE,EAAEN,OAAO,CAACM,EAAE;MAAEC,GAAG,EAAEP,OAAO,CAACO,GAAG;MAAEC,KAAK,EAAER,OAAO,CAACQ,KAAK;MAAEC,KAAK,EAAET,OAAO,CAACS,KAAK;MAAEC,KAAK,EAAE,OAAO;MAAEC,IAAI,EAAE,GAAG;MAAEC,QAAQ,EAAE;IAAC,CAAC,CAAC,CAAC;EACpM;CACD;AAzBYrC,iBAAiB,GAAAwC,UAAA,EAL7BzC,SAAS,CAAC;EACT0C,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW3C,iBAAiB,CAyB7B;SAzBYA,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}