{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ProductsComponent = class ProductsComponent {\n  constructor(productsDataService, searchDataService, activatedRoute, router, cartService, wishlistService) {\n    this.productsDataService = productsDataService;\n    this.searchDataService = searchDataService;\n    this.activatedRoute = activatedRoute;\n    this.router = router;\n    this.cartService = cartService;\n    this.wishlistService = wishlistService;\n  }\n  ngOnInit() {\n    this.productsDataService.getProducts().subscribe(res => {\n      this.productsData = res;\n      this.currentRoute = this.activatedRoute?.component?.name;\n      this.category = this.activatedRoute.snapshot.paramMap.get(\"cat\");\n      if (this.category) this.productsData = this.productsData.filter(x => x.cat === this.category);else {\n        this.productsData = this.productsData.filter(x => x.bestseller === true);\n        this.productsData.splice(8, this.productsData.length - 8);\n      }\n    });\n  }\n  addToCart(product) {\n    console.log(product);\n    this.cartService.addToCart({\n      img: product.img,\n      title: product.title,\n      price: product.price,\n      color: \"black\",\n      size: \"S\",\n      quantity: 1\n    }).subscribe(res => {\n      if (res.status === 200) this.router.navigate(['/cart']);\n    });\n  }\n  addToWishlist(product) {\n    this.wishlistService.addToWishlist({\n      img: product.img,\n      title: product.title,\n      price: product.price,\n      color: \"black\",\n      size: \"S\",\n      quantity: 1\n    }).subscribe(res => {\n      if (res.status === 200) this.router.navigate(['/wishlist']);\n    });\n  }\n};\nProductsComponent = __decorate([Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})], ProductsComponent);\nexport { ProductsComponent };","map":{"version":3,"names":["Component","ProductsComponent","constructor","productsDataService","searchDataService","activatedRoute","router","cartService","wishlistService","ngOnInit","getProducts","subscribe","res","productsData","currentRoute","component","name","category","snapshot","paramMap","get","filter","x","cat","bestseller","splice","length","addToCart","product","console","log","img","title","price","color","size","quantity","status","navigate","addToWishlist","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\shinz\\OneDrive\\Desktop\\web\\ecommerce\\client\\src\\app\\home\\products\\products.component.ts"],"sourcesContent":["import { Component, DoCheck, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ProductsData } from 'src/app/models/products-data.model';\nimport { ProductsDataService } from 'src/app/services/products-data.service';\nimport { SearchDataService } from 'src/app/services/search-data.service';\nimport { CartService } from 'src/app/services/cart.service';\nimport { WishlistService } from 'src/app/services/wishlist.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.component.html',\n  styleUrls: ['./products.component.css']\n})\nexport class ProductsComponent implements OnInit{\n  constructor(private productsDataService: ProductsDataService, private searchDataService: SearchDataService, private activatedRoute: ActivatedRoute, private router: Router, private cartService: CartService, private wishlistService: WishlistService) { }\n  productsData!: ProductsData[]\n  category!: string | null\n  currentRoute!: string | undefined\n\n  ngOnInit(): void {\n    this.productsDataService.getProducts().subscribe(res => {\n      this.productsData = res\n      this.currentRoute = this.activatedRoute?.component?.name\n      this.category = this.activatedRoute.snapshot.paramMap.get(\"cat\")\n      if (this.category) this.productsData = this.productsData.filter((x: any) => x.cat === this.category)\n      else {\n        this.productsData = this.productsData.filter((x: any) => x.bestseller === true)\n        this.productsData.splice(8, this.productsData.length - 8)\n      }\n    })\n  }\n\n  addToCart(product: ProductsData) {\n    console.log(product);\n    this.cartService.addToCart({ img: product.img, title: product.title, price: product.price, color: \"black\", size: \"S\", quantity: 1 }).subscribe(res => {\n      if (res.status === 200) this.router.navigate(['/cart'])\n    })\n  }\n\n  addToWishlist(product: ProductsData) {\n    this.wishlistService.addToWishlist({ img: product.img, title: product.title, price: product.price, color: \"black\", size: \"S\", quantity: 1 }).subscribe(res => {\n      if(res.status === 200) this.router.navigate(['/wishlist'])\n    })\n  }\n}"],"mappings":";AAAA,SAASA,SAAS,QAAyB,eAAe;AAa1D,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAiB;EAC5BC,YAAoBC,mBAAwC,EAAUC,iBAAoC,EAAUC,cAA8B,EAAUC,MAAc,EAAUC,WAAwB,EAAUC,eAAgC;IAAlO,KAAAL,mBAAmB,GAAnBA,mBAAmB;IAA+B,KAAAC,iBAAiB,GAAjBA,iBAAiB;IAA6B,KAAAC,cAAc,GAAdA,cAAc;IAA0B,KAAAC,MAAM,GAANA,MAAM;IAAkB,KAAAC,WAAW,GAAXA,WAAW;IAAuB,KAAAC,eAAe,GAAfA,eAAe;EAAqB;EAK1PC,QAAQA,CAAA;IACN,IAAI,CAACN,mBAAmB,CAACO,WAAW,EAAE,CAACC,SAAS,CAACC,GAAG,IAAG;MACrD,IAAI,CAACC,YAAY,GAAGD,GAAG;MACvB,IAAI,CAACE,YAAY,GAAG,IAAI,CAACT,cAAc,EAAEU,SAAS,EAAEC,IAAI;MACxD,IAAI,CAACC,QAAQ,GAAG,IAAI,CAACZ,cAAc,CAACa,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,KAAK,CAAC;MAChE,IAAI,IAAI,CAACH,QAAQ,EAAE,IAAI,CAACJ,YAAY,GAAG,IAAI,CAACA,YAAY,CAACQ,MAAM,CAAEC,CAAM,IAAKA,CAAC,CAACC,GAAG,KAAK,IAAI,CAACN,QAAQ,CAAC,MAC/F;QACH,IAAI,CAACJ,YAAY,GAAG,IAAI,CAACA,YAAY,CAACQ,MAAM,CAAEC,CAAM,IAAKA,CAAC,CAACE,UAAU,KAAK,IAAI,CAAC;QAC/E,IAAI,CAACX,YAAY,CAACY,MAAM,CAAC,CAAC,EAAE,IAAI,CAACZ,YAAY,CAACa,MAAM,GAAG,CAAC,CAAC;;IAE7D,CAAC,CAAC;EACJ;EAEAC,SAASA,CAACC,OAAqB;IAC7BC,OAAO,CAACC,GAAG,CAACF,OAAO,CAAC;IACpB,IAAI,CAACrB,WAAW,CAACoB,SAAS,CAAC;MAAEI,GAAG,EAAEH,OAAO,CAACG,GAAG;MAAEC,KAAK,EAAEJ,OAAO,CAACI,KAAK;MAAEC,KAAK,EAAEL,OAAO,CAACK,KAAK;MAAEC,KAAK,EAAE,OAAO;MAAEC,IAAI,EAAE,GAAG;MAAEC,QAAQ,EAAE;IAAC,CAAE,CAAC,CAACzB,SAAS,CAACC,GAAG,IAAG;MACnJ,IAAIA,GAAG,CAACyB,MAAM,KAAK,GAAG,EAAE,IAAI,CAAC/B,MAAM,CAACgC,QAAQ,CAAC,CAAC,OAAO,CAAC,CAAC;IACzD,CAAC,CAAC;EACJ;EAEAC,aAAaA,CAACX,OAAqB;IACjC,IAAI,CAACpB,eAAe,CAAC+B,aAAa,CAAC;MAAER,GAAG,EAAEH,OAAO,CAACG,GAAG;MAAEC,KAAK,EAAEJ,OAAO,CAACI,KAAK;MAAEC,KAAK,EAAEL,OAAO,CAACK,KAAK;MAAEC,KAAK,EAAE,OAAO;MAAEC,IAAI,EAAE,GAAG;MAAEC,QAAQ,EAAE;IAAC,CAAE,CAAC,CAACzB,SAAS,CAACC,GAAG,IAAG;MAC3J,IAAGA,GAAG,CAACyB,MAAM,KAAK,GAAG,EAAE,IAAI,CAAC/B,MAAM,CAACgC,QAAQ,CAAC,CAAC,WAAW,CAAC,CAAC;IAC5D,CAAC,CAAC;EACJ;CACD;AA/BYrC,iBAAiB,GAAAuC,UAAA,EAL7BxC,SAAS,CAAC;EACTyC,QAAQ,EAAE,cAAc;EACxBC,WAAW,EAAE,2BAA2B;EACxCC,SAAS,EAAE,CAAC,0BAA0B;CACvC,CAAC,C,EACW1C,iBAAiB,CA+B7B;SA/BYA,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}